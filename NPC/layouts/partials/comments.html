<!-- github comments -->
<div>    
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">评论</span>
        <br/>
    </div>
    <div id="tcomment"></div>
    
    <script>
        // 动态加载 Utterances 的函数
        function loadUtterances(theme) {
            var script = document.createElement("script");
            script.src = "https://utteranc.es/client.js";
            script.setAttribute("repo", "arkleselect/comments");
            script.setAttribute("issue-term", "title");
            script.setAttribute("theme", theme);
            script.setAttribute("crossorigin", "anonymous");
            script.async = true;

            // 清空之前的 utterances 容器
            var container = document.getElementById("tcomment");
            while (container.firstChild) {
                container.removeChild(container.firstChild);
            }
            container.appendChild(script);
        }

        // 获取当前主题
        const currentTheme = document.documentElement.getAttribute("data-theme") || "light";
        loadUtterances(currentTheme === "dark" ? "github-dark" : "github-light");

        // 监听主题切换事件（如果有）
        document.addEventListener("themeChange", function(event) {
            const newTheme = event.detail.theme;
            loadUtterances(newTheme === "dark" ? "github-dark" : "github-light");
        });
    </script>
</div>
