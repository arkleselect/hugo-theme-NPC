{{ define "main" }}
<div class="categories-content-container">
    <main class="categories-content">
        {{ range $key, $taxonomy := .Site.Taxonomies.categories }}
            <div class="category-section">
                <h2>{{ $key }}</h2>
                {{ range $taxonomy.Pages }}
                    <article class="post-item">
                        <div class="post-info">
                            <h1 class="post-title"><a href="{{ .RelPermalink }}">{{ .Title }}</a></h1>
                            <div class="post-meta">
                                <span class="post-author">{{ .Params.author }}</span>
                                <span class="post-date">{{ .Date.Format "15:04" }}</span>
                                <span class="post-comments">{{ .Params.comments }} {{ if gt .Params.comments 1 }}comments{{ else }}comment{{ end }}</span>
                            </div>
                        </div>
                        {{ if .Params.image }}
                            <div class="post-image">
                                <img src="{{ .Params.image }}" alt="{{ .Title }}">
                            </div>
                        {{ end }}
                    </article>
                {{ end }}
            </div>
        {{ end }}
    </main>
    {{ partial "sidebar.html" . }}
</div>
{{ end }}
